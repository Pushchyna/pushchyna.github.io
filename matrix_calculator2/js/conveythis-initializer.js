var ConveyThis_Initializer=class{static init(e){if(void 0===e.api_key||0==e.api_key.length)return void alert("ConveyThis Error: Api key is not specified");let t="api_key="+e.api_key+"&referer="+btoa(document.location.href);void 0!==e.is_shopify&&(t+="&is_shopify="+e.is_shopify),ConveyThis_Initializer.getCode("https://api-proxy.conveythis.com",t,(function(e){e?e.code&&ConveyThis_Initializer.insertCode(e.code):ConveyThis_Initializer.getCode("https://api.conveythis.com",t,(function(e){e.code&&ConveyThis_Initializer.insertCode(e.code)}))}),2e3)}static getCode(e,t,i,n=!1){let o=new XMLHttpRequest;o.open("GET",e+"/25/website/code/get?"+t,!0),n&&(o.timeout=n),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){if(o.responseText){let e=JSON.parse(o.responseText);i(e)}}else 0===o.status&&i(null)},o.send(t)}static insertCode(e){let t=document.createElement("div");t.innerHTML=e,t.childNodes.forEach((function(e){if("SCRIPT"==e.nodeName.toUpperCase()){let t=document.createElement("script");e.src?t.src=e.src:t.innerHTML=e.innerHTML,t.type="text/javascript",document.body.appendChild(t)}else(e.textContent.trim().length>0||1==e.nodeType)&&document.body.appendChild(e)}))}};